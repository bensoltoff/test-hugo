<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.26" />
  <meta name="author" content="Benjamin Soltoff">
  <meta name="description" content="Lecturer in Computational Social Science">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.0/css/academicons.min.css" integrity="sha512-GGGNUPDhnG8LEAEDsjqYIQns+Gu8RBs4j5XGlxl7UfRaZBhCCm5jenJkeJL8uPuOXGqgl8/H1gjlWQDRjd3cUQ==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/test-hugo/css/hugo-academic.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-45631879-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  <link rel="alternate" href="http://www.bensoltoff.com/test-hugo/index.xml" type="application/rss+xml" title="Straight Up Soltoff">
  <link rel="feed" href="http://www.bensoltoff.com/test-hugo/index.xml" type="application/rss+xml" title="Straight Up Soltoff">

  <link rel="icon" type="image/png" href="/test-hugo/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/test-hugo/img/apple-touch-icon.png">

  <link rel="canonical" href="http://www.bensoltoff.com/test-hugo/post/expected-draft-pick/">

  

  <title>A Modified Draft Pick Selection Order | Straight Up Soltoff</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/test-hugo/">Straight Up Soltoff</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/test-hugo/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/test-hugo/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/test-hugo/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/test-hugo/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/test-hugo/#teaching">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/test-hugo/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/test-hugo/cv/">
            
            <span>CV</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">A Modified Draft Pick Selection Order</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="2016-09-20 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Tue, Sep 20, 2016
    </time>
  </span>

  
  
  
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/test-hugo/categories/r">r</a
    >
    
  </span>
  
  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/test-hugo/tags/r">r</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fwww.bensoltoff.com%2ftest-hugo%2fpost%2fexpected-draft-pick%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=A%20Modified%20Draft%20Pick%20Selection%20Order&amp;url=http%3a%2f%2fwww.bensoltoff.com%2ftest-hugo%2fpost%2fexpected-draft-pick%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fwww.bensoltoff.com%2ftest-hugo%2fpost%2fexpected-draft-pick%2f&amp;title=A%20Modified%20Draft%20Pick%20Selection%20Order"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=http%3a%2f%2fwww.bensoltoff.com%2ftest-hugo%2fpost%2fexpected-draft-pick%2f&amp;title=A%20Modified%20Draft%20Pick%20Selection%20Order"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=A%20Modified%20Draft%20Pick%20Selection%20Order&amp;body=http%3a%2f%2fwww.bensoltoff.com%2ftest-hugo%2fpost%2fexpected-draft-pick%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      <p>In preparation for teaching a <a href="https://uc-cfss.github.io">new computing course for the social sciences</a>, I’ve been practicing building interactive websites using <a href="http://shiny.rstudio.com/">Shiny</a> for R. The <a href="http://fivethirtyeight.com/features/how-high-can-count-von-count-count/">latest Riddler puzzle from FiveThirtyEight</a> was an especially interesting challenge, combining aspects of computational simulation and Shiny programing:</p>
<blockquote>
<p>You are one of 30 team owners in a professional sports league. In the past, your league set the order for its annual draft using the teams’ records from the previous season — the team with the worst record got the first draft pick, the team with the second-worst record got the next pick, and so on. However, due to concerns about teams intentionally losing games to improve their picks, the league adopts a modified system. This year, each team tosses a coin. All the teams that call their coin toss correctly go into Group A, and the teams that lost the toss go into Group B. All the Group A teams pick before all the Group B teams; within each group, picks are ordered in the traditional way, from worst record to best. If your team would have picked 10th in the old system, what is your expected draft position under the new system?</p>
</blockquote>
<blockquote>
<p>Extra credit: Suppose each team is randomly assigned to one of T groups where all the teams in Group 1 pick, then all the teams in Group 2, and so on. (The coin-flipping scenario above is the case where T = 2.) What is the expected draft position of the team with the Nth-best record?</p>
</blockquote>
<p>One could go the analytical route to solve this</p>
<blockquote class="twitter-tweet" data-conversation="none" data-lang="en">
<p lang="en" dir="ltr">
I think I worked out the analytic solution… <a href="https://t.co/HNus4TIZEJ">pic.twitter.com/HNus4TIZEJ</a>
</p>
— Russell Maier (<span class="citation">@MaierRussell</span>) <a href="https://twitter.com/MaierRussell/status/778056486593454080">September 20, 2016</a>
</blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>But I wanted to take a computational, brute-force approach. This type of problem is ripe for Markov chain Monte Carlo (MCMC) methods, which I’ve use before in <a href="http://www.bensoltoff.com/r/can-you-win-this-hot-new-game-show/">Riddler solutions</a>.</p>
<p>The main task is to write a function that calculates the new draft position for a team given their current draft pick and potential assignment into one of <span class="math inline">\(K\)</span> groups. The function I wrote is:</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## + ggplot2 2.2.1             Date: 2017-08-13
## + tibble  1.3.3                R: 3.4.1
## + tidyr   0.6.3               OS: macOS Sierra 10.12.6
## + readr   1.1.1              GUI: X11
## + purrr   0.2.2.2         Locale: en_US.UTF-8
## + dplyr   0.7.2.9000          TZ: America/Chicago
## + stringr 1.2.0           
## + forcats 0.2.0</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────────────────</code></pre>
<pre><code>## * filter(),  from dplyr, masks stats::filter()
## * lag(),     from dplyr, masks stats::lag()</code></pre>
<pre class="r"><code>set.seed(1234)

draft_pick_sim &lt;- function(n_teams = 30, n_groups = 2, n_sims = 100){
  old &lt;- 1:n_teams

  sims &lt;- replicate(n_sims, sample(1:n_groups, n_teams, replace = T)) %&gt;%
    tbl_df %&gt;%
    bind_cols(data_frame(old)) %&gt;%
    gather(sim, outcome, -old) %&gt;%
    group_by(sim) %&gt;%
    arrange(sim, outcome, old) %&gt;%
    mutate(new = row_number())
  
  return(sims)
}</code></pre>
<p>For each simulation, I randomly sample each team into one of <code>n_groups</code>, then calculate draft order from worst-to-first within each group and then between groups. From this I can then calculate the expected draft position for each team given their original draft order.</p>
<p>So given the original problem setup, the expected draft positions for each team given random assignment into one of two groups is:</p>
<pre class="r"><code>draft_pick_sim(n_sims = 10000) %&gt;%
  group_by(old) %&gt;%
  summarize(mean = mean(new)) %&gt;%
  knitr::kable(caption = &quot;Expected Draft Position (based on 10,000 simulations)&quot;,
               col.names = c(&quot;Original Draft Position&quot;,
                             &quot;Expected Draft Position&quot;))</code></pre>
<table>
<caption><span id="tab:unnamed-chunk-2">Table 1: </span>Expected Draft Position (based on 10,000 simulations)</caption>
<thead>
<tr class="header">
<th align="right">Original Draft Position</th>
<th align="right">Expected Draft Position</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">8.18</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">8.77</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">9.27</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">9.76</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">10.25</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">10.80</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">11.39</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">11.74</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">12.20</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">12.79</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">13.26</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">13.68</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">14.29</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">14.64</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="right">15.40</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="right">15.71</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">16.28</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">16.63</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="right">17.23</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">17.86</td>
</tr>
<tr class="odd">
<td align="right">21</td>
<td align="right">18.14</td>
</tr>
<tr class="even">
<td align="right">22</td>
<td align="right">18.72</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="right">19.31</td>
</tr>
<tr class="even">
<td align="right">24</td>
<td align="right">19.77</td>
</tr>
<tr class="odd">
<td align="right">25</td>
<td align="right">20.28</td>
</tr>
<tr class="even">
<td align="right">26</td>
<td align="right">20.84</td>
</tr>
<tr class="odd">
<td align="right">27</td>
<td align="right">21.24</td>
</tr>
<tr class="even">
<td align="right">28</td>
<td align="right">21.66</td>
</tr>
<tr class="odd">
<td align="right">29</td>
<td align="right">22.34</td>
</tr>
<tr class="even">
<td align="right">30</td>
<td align="right">22.56</td>
</tr>
</tbody>
</table>
<p>The team originally with the 10th draft can expect to have the <em>13th pick</em> under this new approach.</p>
<p>What turned into the more complicated part was turning this function into a working Shiny app. <a href="https://bensoltoff.shinyapps.io/draft_pick/">I encourage you to try it out</a>, as it generalizes the problem by providing expected draft picks given <em>N</em> teams and <em>K</em> groups.</p>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="http://www.bensoltoff.com/test-hugo/post/getting-started/"><span
      aria-hidden="true">&larr;</span> Getting started with the Academic framework for Hugo</a></li>
    

    
    <li class="next"><a href="http://www.bensoltoff.com/test-hugo/post/cubs-world-series-puzzles-for-fun/">Cubs World Series Puzzles (For Fun) <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "bensoltoff" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Benjamin Soltoff &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js" integrity="sha512-iHzEu7GbSc705hE2skyH6/AlTpOfBmkx7nUqTLGzPYR+C1tRaItbRlJ7hT/D3YQ9SV0fqLKzp4XY9wKulTBGTw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js" integrity="sha512-Z5heTz36xTemt1TbtbfXtTq5lMfYnOkXM2/eWcTTiLU01+Sw4ku1i7vScDc8fWhrP2abz9GQzgKH5NGBLoYlAw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js" integrity="sha512-CDeU7pRtkPX6XJtF/gcFWlEwyaX7mcAp5sO3VIu/ylsdR74wEw4wmBpD5yYTrmMAiAboi9thyBUr1vXRPA7t0Q==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="/test-hugo/js/hugo-academic.js"></script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/python.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/r.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>

